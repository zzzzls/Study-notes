<!-- TOC -->

- [scp 命令](#scp-%e5%91%bd%e4%bb%a4)
  - [语法](#%e8%af%ad%e6%b3%95)
  - [参数](#%e5%8f%82%e6%95%b0)
- [示例](#%e7%a4%ba%e4%be%8b)
  - [本地 发送至 远程](#%e6%9c%ac%e5%9c%b0-%e5%8f%91%e9%80%81%e8%87%b3-%e8%bf%9c%e7%a8%8b)
  - [远程 拷贝至 本地](#%e8%bf%9c%e7%a8%8b-%e6%8b%b7%e8%b4%9d%e8%87%b3-%e6%9c%ac%e5%9c%b0)

<!-- /TOC -->

# scp 命令

scp 是 secure copy 的缩写，是 Linux系统下基于 ssh登陆进行安全的远程文件拷贝命令，和它类似的命令有 cp，不过 cp只是在本机进行拷贝不能跨服务器。

## 语法

```bash
scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]
           [-l limit] [-o ssh_option] [-P port] [-S program]
           [[user@]host1:]file1 ... [[user@]host2:]file2
```

## 参数

|参数|描述|
|:---:|:---|
|-1| 强制scp命令使用协议ssh1|
|-2| 强制scp命令使用协议ssh2|
|-4| 强制scp命令只使用IPv4寻址|
|-6| 强制scp命令只使用IPv6寻址|
|-B| 使用批处理模式（传输过程中不询问传输口令或短语）|
|-C| 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）|
|-p|保留原文件的修改时间，访问时间和访问权限。|
|-q| 不显示传输进度条|
|-r| 递归复制整个目录|
|-v|详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题|
|-c|以cipher将数据传输进行加密，这个选项将直接传递给ssh|
|-F|指定一个替代的ssh配置文件，此参数直接传递给ssh|
|-i|从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh|
|-l|限定用户所能使用的带宽，以Kbit/s为单位|
|-o|如果习惯于使用ssh_config(5)中的参数传递方式|
|-P|注意是大写的P, port是指定数据传输用到的端口号|
|-S|指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项

# 示例

## 本地 发送至 远程

**1. 复制单个文件**

```bash
scp 本地文件路径 远程用户名@ip地址:远程路径
scp ./test.txt root@0.0.0.0:/home/me
```

**2. 复制文件夹**

```bash
scp -r 本地文件夹路径 远程用户名@ip地址:远程路径
```

## 远程 拷贝至 本地

**1. 复制单个文件**

```bash
scp 远程用户名@ip地址:远程路径 本地文件路径
```

**2. 复制文件夹**

```bash
scp -r 远程用户名@ip地址:远程路径 本地文件夹路径
```